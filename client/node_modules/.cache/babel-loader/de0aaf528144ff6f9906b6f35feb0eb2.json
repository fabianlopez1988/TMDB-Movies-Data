{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Bootcamp/TMDB 2/client/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { userLogin } from \"../store/user\";\nimport { useDispatch } from \"react-redux\";\nimport useInput from \"../hooks/useInput\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [showAlert, setShowAlert] = useState(false);\n  const email = useInput();\n  const password = useInput();\n  const captcha = useRef(null);\n  const [captchaValue, setCaptchaValue] = useState(null);\n  const user = localStorage.getItem('user');\n\n  const onChange = () => {\n    if (captcha.current.getValue()) {\n      setCaptchaValue(true);\n    }\n  };\n\n  useEffect(() => {\n    if (user) {\n      if (location.pathname === \"/login\") {\n        navigate(\"/\");\n      }\n    }\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (captcha.current.getValue()) {\n      setCaptchaValue(true);\n    }\n\n    dispatch(userLogin({\n      email: email.value,\n      password: password.value\n    })).then(() => {\n      if (localStorage.getItem(\"user\")) navigate(\"/\");else setShowAlert(true);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"col-sm-6 login-form pt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        show: showAlert,\n        onClose: () => setShowAlert(false),\n        dismissible: true,\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"\\xA1Atenci\\xF3n!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"E-mail o contrase\\xF1a incorrectos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group col-md-6 pb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"Email\",\n            class: \"form-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            class: \"form-control\",\n            ...email,\n            id: \"Email\",\n            placeholder: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group col-md-6 pb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"Password\",\n            class: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            class: \"form-control\",\n            ...password,\n            id: \"Password\",\n            placeholder: \"password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-primary\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"mt-2\",\n          children: [\"\\xBFNo ten\\xE9s cuenta? \\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/register\",\n            children: \"Crear cuenta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"recaptcha pt-4\",\n        children: /*#__PURE__*/_jsxDEV(ReCAPTCHA, {\n          sitekey: \"6Le-5lUgAAAAAMhhuBnrbEXThYz4cFNhY-txabwp\",\n          onChange: onChange,\n          ref: captcha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: captchaValue === false && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Por favor hac\\xE9 click en el checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"nlLTX9Fa9GCWtw+xHES64iLlfxI=\", false, function () {\n  return [useDispatch, useNavigate, useLocation, useInput, useInput];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useNavigate","useLocation","ReCAPTCHA","userLogin","useDispatch","useInput","Alert","Login","dispatch","navigate","location","showAlert","setShowAlert","email","password","captcha","captchaValue","setCaptchaValue","user","localStorage","getItem","onChange","current","getValue","pathname","handleSubmit","e","preventDefault","value","then","catch","err","console","log"],"sources":["/home/fabian/Bootcamp/TMDB 2/client/src/components/Login.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport ReCAPTCHA from \"react-google-recaptcha\";\nimport { userLogin } from \"../store/user\";\nimport { useDispatch } from \"react-redux\";\nimport useInput from \"../hooks/useInput\";\nimport Alert from \"react-bootstrap/Alert\"\n\nconst Login = () => {\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [showAlert, setShowAlert] = useState(false)\n\n  const email = useInput();\n  const password = useInput();\n\n  \n  const captcha = useRef(null);\n  const [captchaValue, setCaptchaValue] = useState(null);\n  \n  const user = localStorage.getItem('user')\n\n  const onChange = () => {\n    if (captcha.current.getValue()) {\n      setCaptchaValue(true);\n    }\n  };\n\n  useEffect(() => {\n    if(user){\n      if(location.pathname === \"/login\"){\n        navigate(\"/\")\n      } \n    }\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (captcha.current.getValue()) {\n      setCaptchaValue(true);\n    }\n\n    dispatch(userLogin({\n      email: email.value,\n      password: password.value,\n    }))\n    .then(()=> {\n      if(localStorage.getItem(\"user\")) navigate(\"/\")\n      else setShowAlert(true)\n    })\n    .catch(err => console.log(err))\n  };\n\n\n  return (\n    <div class=\"container\">\n      <div class=\"col-sm-6 login-form pt-5\">\n        <h2>Sign In</h2>\n        <Alert variant=\"warning\" show={showAlert} onClose={() => (setShowAlert(false))} dismissible>\n        <Alert.Heading>¡Atención!</Alert.Heading>\n        <p>\n          E-mail o contraseña incorrectos\n        </p>\n      </Alert>\n        <form onSubmit={handleSubmit}>\n          <div class=\"form-group col-md-6 pb-3\">\n            <label for=\"Email\" class=\"form-label\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              {...email}\n              id=\"Email\"\n              placeholder=\"email\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group col-md-6 pb-3\">\n            <label for=\"Password\" class=\"form-label\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              {...password}\n              id=\"Password\"\n              placeholder=\"password\"\n              required\n            />\n          </div>\n\n          <button type=\"submit\" class=\"btn btn-primary\">\n            Login\n          </button>\n          <p class=\"mt-2\">\n              ¿No tenés cuenta? &nbsp;\n              <a href=\"/register\">Crear cuenta</a>\n            </p>\n        </form>\n        <div class=\"recaptcha pt-4\">\n          <ReCAPTCHA\n            sitekey=\"6Le-5lUgAAAAAMhhuBnrbEXThYz4cFNhY-txabwp\"\n            onChange={onChange}\n            ref={captcha}\n          />\n        </div>\n        <div>\n          {captchaValue === false && <p>Por favor hacé click en el checkbox</p>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}