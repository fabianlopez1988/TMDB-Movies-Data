{"ast":null,"code":"import { createAsyncThunk, createReducer } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const getUser = createAsyncThunk(\"GET_USER\", () => {\n  const userId = JSON.parse(localStorage.getItem('user')).user.id;\n  return axios.get(`/api/${userId}`).then(user => user.data);\n});\nexport const userRegister = createAsyncThunk(\"USER_REGISTER\", data => {\n  return axios.post(\"/api/users/register\", data).then(user => user.data);\n});\nexport const userLogin = createAsyncThunk(\"USER_LOGGED\", data => {\n  return axios.post(\"/api/users/login\", data).then(user => {\n    localStorage.setItem(\"user\", JSON.stringify(user.data));\n    return user.data;\n  });\n});\nexport const userLogout = createAsyncThunk(\"USER_LOGOUT\", () => {\n  return axios.post(\"/api/users/logout\").then(user => user.data);\n});\nconst userReducer = createReducer(null, {\n  [getUser.fulfilled]: (state, action) => action.payload,\n  [userRegister.fulfilled]: (state, action) => action.payload,\n  [userLogin.fulfilled]: (state, action) => action.payload,\n  [userLogout.fulfilled]: (state, action) => action.payload\n});\nexport default userReducer;","map":{"version":3,"names":["createAsyncThunk","createReducer","axios","getUser","userId","JSON","parse","localStorage","getItem","user","id","get","then","data","userRegister","post","userLogin","setItem","stringify","userLogout","userReducer","fulfilled","state","action","payload"],"sources":["/home/fabian/Bootcamp/TMDB 2/client/src/store/user.js"],"sourcesContent":["import { createAsyncThunk, createReducer } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const getUser = createAsyncThunk(\"GET_USER\", () => {\n  const userId = JSON.parse(localStorage.getItem('user')).user.id\n  return axios.get(`/api/${userId}`)\n      .then(user => user.data)\n})\n\nexport const userRegister = createAsyncThunk(\"USER_REGISTER\", (data) => {\n  return axios.post(\"/api/users/register\", data).then((user) => user.data);\n});\n\nexport const userLogin = createAsyncThunk(\"USER_LOGGED\", (data) => {\n  return axios.post(\"/api/users/login\", data).then((user) => {\n    localStorage.setItem(\"user\", JSON.stringify(user.data));\n    return user.data;\n  });\n});\n\nexport const userLogout = createAsyncThunk(\"USER_LOGOUT\", () => {\n  return axios.post(\"/api/users/logout\").then((user) => user.data);\n});\n\nconst userReducer = createReducer(null, {\n  [getUser.fulfilled]: (state, action) => action.payload,  \n  [userRegister.fulfilled]: (state, action) => action.payload,\n  [userLogin.fulfilled]: (state, action) => action.payload,\n  [userLogout.fulfilled]: (state, action) => action.payload,\n});\n\nexport default userReducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,aAA3B,QAAgD,kBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAGH,gBAAgB,CAAC,UAAD,EAAa,MAAM;EACxD,MAAMI,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC,IAAzC,CAA8CC,EAA7D;EACA,OAAOR,KAAK,CAACS,GAAN,CAAW,QAAOP,MAAO,EAAzB,EACFQ,IADE,CACGH,IAAI,IAAIA,IAAI,CAACI,IADhB,CAAP;AAED,CAJsC,CAAhC;AAMP,OAAO,MAAMC,YAAY,GAAGd,gBAAgB,CAAC,eAAD,EAAmBa,IAAD,IAAU;EACtE,OAAOX,KAAK,CAACa,IAAN,CAAW,qBAAX,EAAkCF,IAAlC,EAAwCD,IAAxC,CAA8CH,IAAD,IAAUA,IAAI,CAACI,IAA5D,CAAP;AACD,CAF2C,CAArC;AAIP,OAAO,MAAMG,SAAS,GAAGhB,gBAAgB,CAAC,aAAD,EAAiBa,IAAD,IAAU;EACjE,OAAOX,KAAK,CAACa,IAAN,CAAW,kBAAX,EAA+BF,IAA/B,EAAqCD,IAArC,CAA2CH,IAAD,IAAU;IACzDF,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BZ,IAAI,CAACa,SAAL,CAAeT,IAAI,CAACI,IAApB,CAA7B;IACA,OAAOJ,IAAI,CAACI,IAAZ;EACD,CAHM,CAAP;AAID,CALwC,CAAlC;AAOP,OAAO,MAAMM,UAAU,GAAGnB,gBAAgB,CAAC,aAAD,EAAgB,MAAM;EAC9D,OAAOE,KAAK,CAACa,IAAN,CAAW,mBAAX,EAAgCH,IAAhC,CAAsCH,IAAD,IAAUA,IAAI,CAACI,IAApD,CAAP;AACD,CAFyC,CAAnC;AAIP,MAAMO,WAAW,GAAGnB,aAAa,CAAC,IAAD,EAAO;EACtC,CAACE,OAAO,CAACkB,SAAT,GAAqB,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OADT;EAEtC,CAACV,YAAY,CAACO,SAAd,GAA0B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OAFd;EAGtC,CAACR,SAAS,CAACK,SAAX,GAAuB,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OAHX;EAItC,CAACL,UAAU,CAACE,SAAZ,GAAwB,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC;AAJZ,CAAP,CAAjC;AAOA,eAAeJ,WAAf"},"metadata":{},"sourceType":"module"}